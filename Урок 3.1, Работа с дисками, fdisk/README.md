---
tags:
  - Курс
  - Linux
---
**fdisk** - существует множество способов разметки диска, создания на нём разделов и просмотра уже существующих. Это утилиты parted и cfdisk в терминале и графическая утилита gparted. Однако сегодня мы поговорим про самую простую утилиту для разметки диска в терминале.

```
fdisk {опции} {устройство}
```
Под устройством подразумевается какой-то диск sda, sdb...

Самые главные опции:
- **-B, --protect-boot** - не стирать первые 512 байт диска чтобы не повредить загрузочную запись;
- **-L, --color** - настройка цветного вывода, возможные значения **auto, never** или **always**;
- **-l, --list** - вывести все разделы на выбранных устройствах или если устройств не задано, то на всех устройствах;
- **-o, --output** - указывает какие поля данных надо показывать в выводе программы, доступные поля рассмотрим ниже;
- **-u, --units** - настраивает формат вывода размера разделов, доступные значения: **cylinders (цилиндры), sectors (секторы)**, по умолчанию используется **sectors**;  
	- ![2f4721623e145dab11fdd888a9bd9ed1-800x](https://github.com/NyashMan/LinuxBaseCourse/assets/1348639/f4d83375-6f02-4031-b1ed-9eb8dae8192f)  
- **-w, --wipe** - режим стирания файловой системы или RAID с диска, возможные значения **auto**, **never** или **always** по умолчанию используется **auto**;
- **-W, --wipe-partition** - режим стирания файловой системы или RAID из только что созданного раздела. Возможные значения аналогичны предыдущей опции;
- **-h, --help** - показать справку по утилите;
- **-v, --version** - опция выводит версию утилиты.

Теперь переходим к командам, которые позволят нам что-то делать в интерактивном режиме:
- **a** - включение или выключения флага boot для раздела;
- **d** - удалить раздел;
- **F** - показать свободное место;
- **l** - вывести список известных типов разделов;
- **n** - создать новый раздел;
- **p** - вывести таблицу разделов;
- **t** - изменение типа раздела;
- **i** - вывести информацию о разделе;
- **I** и **O** - записать или загрузить разметку в файл сценария sfdisk;
- **w** - записать новую таблицу разделов на диск;
- **q** - выйти без сохранения;
- **g** - создать пустую таблицу разделов GPT;
- **o** - создать пустую таблицу разделов MBR;
- **m** - справка по всем командам, если какие-то забыл.

Перейдём к практике:
Попробуем вывести все разделы на всех устройствах
```
sudo fdisk -l
```  
![Pasted image 20240115100219](https://github.com/NyashMan/LinuxBaseCourse/assets/1348639/105ea5aa-713a-48a4-a9d0-83a613667ac9)  
Как вы можете заметить, для этих команд обязательно нужны права root (sudo). Ну и собственно, мы вывели все устройства и разделы

Теперь попробуем перейти в интерактивный режим чтобы относительно удобно работать с разделами через команды:
```
sudo fdisk /dev/{устройство}
```  
![Pasted image 20240115100915](https://github.com/NyashMan/LinuxBaseCourse/assets/1348639/f05d39e7-86e6-4494-835d-e535d40d1736)  
Как мы можем заметить, тут нам пишет красным шрифтом предупреждение, что не рекомендуется работать с диском, который примонтирован, так что теперь мы переходим к следующей команде: **mount**.

Следующий урок: [[Урок 3.2, Монтирование, mount|Продолжить]]
